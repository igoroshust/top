- Стандарт RFC 8259
- RESTful API

https://app.blackbox.ai/chat/k1MBf8b

## Цели и задачи JSON в JavaScript
JSON (JavaScript Object Notation) - это текстовый формат для представления структурированных данных, основанный на синтаксисе JS. Он был разработан для облегчения обмена данными между различными системами, особенно в веб-разработке, где данные часто передаются между клиентом (браузером) и сервером. 

### Основные цели JSON
- **Универсальность и совместимость**. JSON поддерживается большинством ЯП, что делает его идеальным для межплатформенного обмена данными. Он не зависит от JS, хотя и используется его синтаксис.

- **Легковесность и читаемость**. Формат компактный, легко читается человеком и парсируемый машинами. Это упрощает отладку и разработку.

- **Стандартизация**. JSON является стандартом (RFC 8259), что обеспечивает надёжность и предсказуемость.

### Задачи JSON в JS
- **Сериализация (преобразование объектов в строку)**. Преобразование JS-объектов в JSON-строку для передачи или хранения с помощью `JSON.stringify()`

- **Десериализация (преобразование строки обратно в объект)**. Парсинг JSON-строки в JS-объект с помощью `JSON.parse()`

- **Хранение и передача данных**. Используется для сохранения данных в localStorage/sessionStorage, отправки AJAX-запросов, работы с API (например, RESTful API).

JSON решает проблемы, связанные с передачей сложных структур данных (объекты, массивы) через текстовые протоколы, такие как HTTP, где данные должны быть строковыми.

### Примеры

**Пример-1. Передача объекта с данными пользователя на сервер**
```javascript
const user = {
    name: "Иван",
    age: 30,
    hobbies: ["чтение", "спорт"]
};

// Сериализация в JSON-строку
const jsonString = JSON.stringify(user);
console.log(jsonString); // Вывод: {"name": "Иван", "age": 30, "hobbies": ["чтение", "спорт"]}

// Имитация отправки на сервер
fetch('/api/user', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: jsonString
});

// Десериализация обратно в объект
const parsedUser = JSON.parse(jsonString); // {name: "Иван", ...}
console.log(parsedUser.name);
```
В этом примере JSON позволяет легко преобразовать объект в строку для передачи и обратно, сохраняя структуру данных.


### Синтаксис JSON
Синтаксис JSON строго определён и основан на подмножестве JavaScript. Он поддерживает только определённые типы данных и структуры, без функций, комментариев или переменных.

#### Основные элементы синтаксиса
- **Объекты**: Представляются в фигурных скобках, содержат пары "ключ:значение", где ключи - строки в двойных кавычках, значения - допустимые типы данных.
- **Массивы**: Представляются в квадратных скобках, содержат упорядоченные значения.
- **Типы данных**: Cтроки, числа, булевы значения, null, объекты и массивы (могут быть вложенными)
- **Правила**: 
- - Ключи объектов всегда в двойных кавычках;
- - Нет комментариев, функций, undefined и символов;
- - Запятые обязательны между элементами, но не после последнего;
- - Пробелы и отступы игнорируются (для читаемости).

JSON не является полноценным JavaScript: он не поддерживает выражения, переменные или методы. Если попытаться сериализовать объект с функцией, она будет пропущена.

**Пример-1. Валидный JSON с вложенными структурами**
```javascript
const jsonData = `{
    "user": {
        "name": "Анна",
        "age": 25,
        "isActive": true,
        "address": {
            "city": "Москва",
            "zip": 123456
        },
        "friends": ["Пётр", "Мария", null]
    },
    "metadata": {
        "version": 1.0,
        "created": "2023-10-01"
    }
}`;

// Парсинг в JSON-объект
const data = JSON.parse(jsonData);
console.log(data); // { user: {...}, metadata: {...} }
console.log(data.user.name); // Анна
console.log(data.user.friends[1]); // Мария

// Сериализация обратно
const backToJson = JSON.stringify(data, null, 2); // С отступами для читаемости

console.log(backToJson); 
/* {
  "user": {
    "name": "Анна",
    "age": 25,
    "isActive": true,
    "address": {
      "city": "Москва",
      "zip": 123456
    },
    "friends": [
      "Пётр",
      "Мария",
      null
    ]
  },
  "metadata": {
    "version": 1,
    "created": "2023-10-01"
  }
*/
```

**Пример-2. Пропуск недопустимого элемента (например, функции)**
```javascript
const obj = { name: "Тест", func: function () { return 1; } };
console.log(JSON.stringify(obj)); // { "name": "Тест" }
```

### Работа JSON.stringify()
JSON.stringify() преобразует JS-значение (объект, массив, число, строку, булево значение, null) в строку в формате JSON.
Пример
```javascript
const obj = { name: "Алиса", age: 25, isActive: true };
const jsonString = JSON.stringify(obj);
// Результат: '{"name":"Алиса", ...}'
```

**Важные нюансы**
- Не обрабатывает функции, undefined, Symbol (они пропускаются или превращаются в null)
- Для Date вызывает .toJSON() (результат - строка в формате ISO)
- Можно настроить через параметры (например, отступы для читаемости)
Параметры: https://alice.yandex.ru/chat/019b2a49-06fb-4000-b68e-c772a58d4aca/