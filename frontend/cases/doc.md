## Цикл for...of
`for...of` - современный (ES6+) способ перебора значений итерируемых объектов в JS. Лаконичный, читаемый, работающий со многими типами данных.

Синтаксис
```javascript
for (const элемент of итерируемый объект) {
    // действия с элементом
}
```
- Элемент: переменная, которая на каждой итерации получает очередное значение из коллекции;
- Итерируемый объект: массив, строка, Set, Map, NodeList и др.

Пример работы
```javascript
const fruits = ['яблоко', 'банан', 'вишня'];
for (const fruit of fruits) {
    console.log(fruit);
}
// Вывод: яблоко, банан, вишня
```

**Как работает**
1. Цикл запрашивает у объекта итератор (метод `Symbol.iterator`);
2. Последовательно вызывает метод `next()` итератора, получая объекты вида `{ value: ..., done: ... }`;
3. Пока `done` не станет `true`, присваивает `value` переменной `элемент` и выполняет тело цикла;
4. Когда итерация завершена, цикл заканчивается.

**Для каких объектов подходит**
- Массивы: `['a', 'b', 'c']`
- Строки: `'hello'`
- Set: `new Set([1, 2, 3])`
- Map: `new Map([['a', 1], ['b', 2]])`
- DOM-коллекции: `document.querySelectorAll('p')` (NodeList)
- Типизированные массивы: `Uint8Array`
- Генераторы: функции с `function*` и `yield`


## Итератор + генератор
Итератор - объект, который позволяет последовательно получать элементы коллекции по одному.
Генератор - особый вид итератора, создаваемый через `function*` и `yield` (в JS).

### Итераторы
Итераторы нужны для низкоуровневого контроля над процессом итерации (например, для кастомных структур данных).

- Реализуются через метод `Symbol.iterator`.
- Возвращает объект с методом `next()`, который выдаёт:
- - `{ value: <текущее значение>, done: false }` - пока есть элементы;
- - `{ value: undefined, done: true }` - когда итерация завершена;

Примеры итерируемых объектов: Array, String, Map, Set, NodeList

**Пример ручного итератора**
```javascript
const iterable = [1, 2, 3];
const iterator = iterable[Symbol.iterator]();

console.log(iterator.next()); // { value: 1, done: false }
console.log(iterator.next()); // { value: 2, done: false }
console.log(iterator.next()); // { value: 3, done: false }
console.log(iterator.next()); // { value: undefined, done: true }
```

### Генератор
Генераторы нужны, когда требуется лениво генерировать значения (экономия памяти), реализовывать бесконечные последовательности, упростить код за счёт yield.
Генератор - это итератор, элементы которого можно проитерировать 1 раз.
Генератор - это удобный способ создавать итераторы.


- Создаются с помощью `function*`
- Используют `yield` для "паузы" и возврата значения.
- Автоматически реализуют протокол итератора.

При вызове функция-генератор не выполняется немедленно, а возвращает объект-генератор (итератор), который можно использовать для управления её выполнением. Внутри генератора используется оператор yield, который приостанавливает выполнение функции, возвращает указанное значение во внешний код и запоминает место прерывания. При последующем вызове метода next() выполнение возобновляется с места приостановки.
Пример генератора
```javascript
function* counter() {
    yield 1;
    yield 2;
    yield 3;
}

const gen = counter();
console.log(gen.next()); // { value: 1, done: false }
console.log(gen.next()); // { value: 2, done: false }
console.log(gen.next()); // { value: 3, done: false }
console.log(gen.next()); // { value: undefined, done: true }
```

Пример с выводом значений генератора
```javascript
function* counter() {
    yield 1;
    yield 2;
    yield 3;
}

const gen = counter();
console.log(gen.next().value); // 1
console.log(gen.next().value); // 2
console.log(gen.next().value); // 3
console.log(gen.next().value); // undefined (генератор завершил выполнение)
```

**`function*`**
function* в JS используется для объявления функции-генератора - особого типа функции, который позволяет управлять ходом выполнения, приостанавливая и возобновляя его, при этом сохраняя контекст между вызовами. Генераторы представляют мощный механизм для работы с последовательностями данных, асинхронным кодом и создания пользовательских итераторов.