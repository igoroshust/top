- Двумерные / трёхмерные / одномерные макеты
- Разобрать конструкцию `:nth-child(3n + 1)` - на примере "сетка 3x3" в данном файле
- Разрбрать: `grid-template-columns: repeat(auto-fit, minmax(200px, 1fr))`
- grid-auto-flow: dense
- CSS Grid Inspector в DevTools
- 1fr - fr - что такое?
- пиксели - что это?
- Единицы измерения в css
- Выучить кейсы создания grid-макетов для примера


https://www.blackbox.ai/chat/ExOAveC

## Введение в CSS Grid
CSS Grid - это мощная система раскладки в CSS, введённая в 2017 году (поддержка современными браузерами с 2018 года). Она позволяет создавать сложные двумерные макеты (строки и столбцы) без использования флоатов, позиционирования или JavaScript. Grid идеален для адаптивных дизайнов, заменяя Flexbox для 2D-раскладок. Преимущества: простота, гибкость, контроль над пространством и автоматическое выравнивание.

- **Базовая концепция**: Контейнер (grid-container) с `display: grid` содержит элементы (grid-items), которые размещаются в сетке.
- **Поддержка**: Работает в Chrome 57+, Firefox 52+, Safari 10.1+, Edge 16+. Для старых браузеров - fallback с Flexbox.
- **Использование**: Для макетов с несколькими колонками/строками (например, галереи, дашборды). Flexbox лучше для 1D (линейных раскладок).

### Основные свойства CSS Grid
Grid использует свойства для контейнера и элементов. Контейнер определяет сетку, элементы – своё положение.

**Свойства контейнера**
- `display: grid` - включает grid-раскладку
- `grid-template-columns` - определяет столбцы (например, `1fr 2fr` - две колонки, вторая в 2 раза шире). Задаёт ширину колонок (горизонтальные размеры). Определяет количество колонок в сетке + ширину каждой из них.
- `grid-template-rows` - определяет строки (аналогично). Задаёт высотку строк (вертикальные размеры). Определяет количество строк в сетке + какую высоту займёт каждая строка;
- `grid-template-areas` - визуальное создание макета сетки через строковое представление.
```css
.container {
    display: grid;
    grid-template-columns: 1fr 2fr;
    grid-template-rows: auto 1fr auto;
    grid-template-areas:
        "header header"
        "sidebar content"
        "footer footer";
}
```
Каждая строка - ряд сетки, каждое слово - именованная область. Одинаковые имена объединяются в одну область.
`grid-area` - свойство для элемента внутри сетки, указывающее, какую именованную область он должен занять.
```css
.header { grid-area: header; }
.sidebar { grid-area: sidebar; }
.content { grid-area: content; }
.footer { grid-area: footer; }
```
Результат: Классический макет. `grid-template-areas` именует области для простоты. 
Преимущества: наглядность макета, облегчённое изменение структуры посредством изменения строки (grid-template-areas), улучшает читаемость кода.

- `grid-gap или gap` - расстояние между ячейками (например, 10px).
- `grid-auto-columns/rows` - размеры автоматических колонок/строк
- `justify-items` - выравнивание элементов по горизонтали (start, center, end, stretch).
- `align-items` - выравнивание элементов по вертикали (start, center, end, stretch)
- `justify-content` - выравнивание все сетки по горизонтали (start, end, center, stretch, space-around, space-between, space-evenly)
- `align-content` - выравнивание по вертикали (start, end, center, stretch, space-around, space-between, space-evenly)

Подсказка:
`justify-*` - позиционирование по горизонтали
`align-*` - позиционирование по вертикали
`*-content` - выравнивание сетки внутри контейнера
`*-items` - выравнивание элементов внутри ячеек

**Свойства элементов**
- `grid-column` - позиционирование элемента внутри CSS-сеткиЖ положение по столбцам (например, `1 / 3` - занимает 1-2 столбцы). Объединяет пары свойств: grid-column = grid-column-start + grid-column-end. Указывает, между какими линиями сетки должен располагаться элемент по горизонтали.
```css
grid-column: <start> / <end>;

/* 
    start - номер или имя линии, от которой начинается элемент
    / - обязательный разделитель
    end - номер или имя линии, на которой элемент заканчивается
*/
```

Примеры:
```css
grid-column: 2 / 4; /* от линии 2 до линии 4 */

grid-column: 1 / -1; /* от первой до последней линии (вся ширина) */

grid-column: sidebar-start / sidebar-end; /* если заданы grid-template-areas или через [имя] */

grid-column: 2 / span 2; /* начать с линии 2, занять 2 колонки (span + число (растянуть на N ячеек)) */

grid-column: 1 / span footer; /* от линии 1 до линии с именем "footer" */

grid-column: auto / auto; /* элемент займёт одну ячейку по умолчанию */
```


`span` позволяет задать количество ячеек, на которые сместиться элемент, не указывая конечную грид-линию. Удобно для указания пространства занимаемого элемента без необходимости в расчёте конечной грид-линии. 
`span N - займи N ячеек, начиная с текущей позиции`. Используется в паре с начальной линией или автоматически (если начальная линия не указана)
```css
grid-column: <начало> / span <число>;

/* Без указания начала - старт с текущей позиции */
grid-column: span <число>;

grid-column: span 2 / 3; /* Начать с позиции, отстоящей на 2 колонки назад от линии 3, и закончить на линии 3 */
/*
    span 2 говорит "элемент должен занимать 2 колонки"
    чтобы занять 2 колонки и закончиться на линии 3, элемент должен начаться на линии 1 (потому что между линиями 1 и 3 - две колонки)

    итог:
    элемент занимает пространство от линии 1 до линии 3 (т.е. 2 колонки)
    эквивалентная запись без span: grid-column: 1 / 3;
*/

```







- `grid-row` - положение по строкам.






























- `grid-area` - комбинированное положение (строка/колонка)
- `justify-self` - выравнивание элемента по горизонтали
- `align-self` - выравнивание по вертикали

**Единицы измерения**
- `fr` (fraction) - доля пространства (например, `1fr 2 fr`);
- `px`, `%`, `em` - фиксированные
- `minmax(min, max)` - диапазон (например, `minmax(100px, 1fr)`). Функция задаёт диапазон размеров для каждого столбца: 100px - минимальный размер, 1fr - максимальный размер (доля свободного пространства). Принцип работы: браузер пытается разместить как можно больше столбцов шириной минимум 100px. Если места хватает, столбцы растягиваются до 1fr (равномерно делят доступное пространство). Когда ширина контейнера становится меньше суммы минимальных ширин (100px × N), браузер уменьшает число столбцов (переносит элементы на новую строку). Это создаёт адаптивный перенос а-ля flex-wrap во Flexbox. 1fr - распределение пространства - оставшееся место после учёта минимальных размеров делится поровну между всеми столбцами в строке (например, если в строке 3 столбца, каждый получит 1fr, то есть 1/3 доступного пространства).

- `repeat()` - повтор (например, `repeat(3, 1fr)` - три равные колонки).
auto-fit - подгоняет столбцы под доступное пространство. Если места много, столбцы растягиваются (до 1fr), если места мало - уменьшает число столбцов.

`auto-fit` - ключевое слово в CSS Grid, которое автоматически подгоняет количество и размер колонок под доступную ширину контейнера, "схлопывая" пустые дорожки и растягивая заполненные элементы. Используется внутри repeat совместно с функцией minmax().
```css
grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
```
Механизм работы:
1. Определяется минимальный размер колонки через `minmax(min, max)` (обычно в районе 200-280px);
2. Браузер вычисляет количество таких колонок, уместимых в контейнере;
3. Все заполненные колонки растягиваются на доступное пространство (`1fr`)
4. Пустые дорожки "схлопываются" (исчезают), не занимая места.
В итоге, auto-fit: автоматически регулирует количество колонок, заполняет доступное пространство, убирает пустые дорожки, упрощает вёрстку динамического контента.

Запись
```css
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
grid-template-rows: repeat(auto-fit, minmax(100px, 1fr));
```
Создаёт полностью адаптивную сетку, которая:
- Подстраивает количество колонок под ширину;
- Подстраивает количество строк под высоту;
- Заполняет всё доступное пространство.



`auto-fill` - сохраняет все возможные колонки (даже пустые), из-за чего элементы не растягиваются до края контейнера.
```css
/* auto-fill - пустые колонки сохраняются */
.grid-fill {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
}
```












1. **Простой пример (сетка 3x3)**
```html
    
    <div class="grid">
        <div>1</div>
        <div>2</div>
        <div>3</div>
        <div>4</div>
        <div>5</div>
        <div>6</div>
        <div>7</div>
        <div>8</div>
        <div>9</div>
    </div>
```
```css
.grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* 3 равные колонки */
    grid-template-rows: repeat(3, 100px); /* 3 строки по 100px */
    gap: 10px;
}
```
Результат: 3x3 сетка с равными ячейками и отступами. Элементы автоматически размещаются слева-направо, сверху вниз.

2. Пример-2 (Адаптивная галерея)
```html
<div class="gallery">
    <div>Фото 1</div>
    <div>Фото 2</div>
    <div>Фото 3</div>
    <div>Фото 4</div>
</div>
```
```css
.gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;

    /*
    auto-fit определяет поведение при нехватке/избытке места
    minmax(min, max) задаёт диапазон размеров для каждого столбца
    */
}

.gallery-item {
    background: lightblue;
    padding: 20px;
    text-align: center;
}
```
Результат: колонки адаптируются под ширину экрана (на мобильном - 1 колонка, на десктопе - несколько). auto-fit создаёт столько колонок, сколько помещается.



#### Дополнительно по теме
- `1fr` (fraction) - доля свободного пространства в сетке. 1fr = 1 часть от оставшегося места.
```css
grid-template-columns: 1fr 2fr; /* вторая колонка будет в 2 раза шире первой */
```

- `vh` (viewport height) - 1% от высоты видимой области браузера. `100vh` = полная высота экрана. Полезно для полноэкранных секций.

- `rem` (root em) - размер шрифта относительно корневного элемента (`<html>`). По умолчанию: `1rem = 16px` (если не переопределено). Глобальная единица - меняется при изменении шрифта на `<html>`. Рекомендуетс для отступов, размеров контейнеров.

- `em` - размер шрифта относительно текущего элемента. Локальная единица - зависит от шрифта конкретного элемента, может "накапливаться" в вложенных элементах. Для внутренних отступов кнопок, полей ввода.

Название происходит от типографского термина "em-quad" (или "em-square"), где em - самостоятельная единица измерения; quad - сокращение от quadrat (квадрат-заполнитель в металлической типографике). "em-quad" буквально означает "квадрат размером em".

- `clamp()` - позволяет задать значение с ограничениями:
```css
property: clamp(MIN, PREFERRED, MAX);
/* 
    MIN - минимальное значение;
    PREFERRED - предпочтительное (гибкое) значение;
    MAX - максимальное значение;
*/

/* Пример */
font-size: clamp(16px, 2vw, 24px); /* Минимум 16px, предпочтительно 2vw (2% от ширины экрана), максимум 24px */
```
Применяется для адаптивных шрифтов, гибких отступов, размеров карточек, ширины контейнеров.
Альтернативы: min() и max() для простых случаев, медиазапросы - для сложных условий.

Плюсы `clamp()`:
- Одна строка вместо нескольких медиазапросов;
- Плавная адаптация;
- Предсказуемый диапазон значений.


#### Задание свойств через `[имя]` (именованные линии)
В CSS Grid можно присваивать имена грид-линиям, чтобы ссылаться на них в `grid-column`, `grid-row` и др. Это делает код понятнее и облегчает изменение макета.

Как задать имена линий: указываются в свойствах `grid-template-columns` и `grid-template-rows` через квадртаные скобки:
```css
.container {
    display: grid;
    grid-template-columns:
        [sidebar-start] 1fr
        [content-start] 2fr
        [content-end] 1fr
        [sidebar-end];
    grid-template-rows:
        [header-start] auto
        [main-start] 1fr
        [main-end] auto
        [footer-start] auto
        [footer-end];
}
```
Имена могут быть любыми (без пробелов и спецсимволов), одну линию можно назвать несколькими именами:
```css
grid-template-columns: [col1 start] 1fr [col2 end];
```
Имена не влияют на визуал, это только метки для позиционирования.

Пример использования:
```css
.item {
    grid-column: sidebar-start / sidebar-end;
    grid-row: header-start / span 2; /* от "main-start" на 2 строки */
}
```

Плюсы: читаемость, гибкость (можно менять размеры колонок/строк, не перезаписывая позиции элементов), семантика (имена отражают роль области - header, sidebar, footer и т.д.);

Пример полного макета:
```html
<div class="container">
    <header class="header">Шапка</header>
    <aside class="sidebar">Сайдбар</aside>
    <main class="content">Контент</main>
    <footer class="footer">Футер</footer>
</div>
```

```css
.container {
    display: grid;
    grid-template-columns:
        [sidebar] 1fr
        [content] 2fr;
    grid-template-rows:
        [header] auto
        [main] 1fr
        [footer] auto;
}

.header { grid-column: sidebar / content; grid-row: header; }
.sidebar { grid-column: sidebar; grid-row: main; }
.content { grid-column: content; grid-row: main; }
.footer { grid-column: sidebar / content; grid-row: footer; }
```



#### Разбор кейсов
1. **Задание двух колонок в сетке:**
```css
grid-template-columns: 1fr 2fr;
```
Первая колонка занимает `1fr` (1 долю) свободного пространства;
Вторая колонка занимает `2fr` (2 доли) свободного пространства;

Принцип распределения ширины:
1. Браузер сначала отводит место под фиксированные элементы (если есть);
2. Оставшееся пространство делится на части: `1fr + 2fr = 3 части`;
3. Первая колонка получает `1/3` оставшегося пространства, вторая - `2/3`.

Пример:
Если после отступов осталось 600px:
- 1-я колонка: `600px x 1/3 = 200px`;
- 2-я колонка: `600px x 2/3 = 400px`;


2. **Задание трёх строк с разными правилами высоты**
```css
grid-template-rows: auto 1fr auto;
```
Первая строка (auto)
- Высота определяется содержимым этой строки. Если в строке текст или картинка, строка "подстроится" под их высоту. Нет жёстких ограничений - строка будет ровно такой, чтобы вместить контент.

Вторая строка (1fr). 
- Занимает всё оставшееся пространство после учёта строк `auto`. Работает как резиновый контейнер - растягивается, заполняя пустоту.
Идеально для основного контента (например, текстового блока).

Третья строка (auto)
- Аналогично первой: высота зависит от содержимого. 
Обычно используется для подвала (footer) или подписи.

Как это работает вместе:
- Сначала браузер вычисляет высоту строк `auto` (верх и низ);
- Затем оставшуюся высоту отдаёт строке `1fr` (центр);
- Если содержимого мало, центральная строка растянется на всё доступное место.

